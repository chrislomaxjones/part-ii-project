\documentclass[12pt,twoside,notitlepage]{report}

\usepackage{a4}
\usepackage{verbatim}
\usepackage{color}

\usepackage{graphicx}

\usepackage{listings}

% Borders around figures
%\usepackage{float}
%\floatstyle{boxed} 
%\restylefloat{figure}

% For the labelled bullet points...
% \usepackage[showframe]{geometry}
\usepackage{enumitem}
\usepackage{listliketab, tabularx, makecell}
\usepackage{amsmath, amsthm, amssymb}

% Chapter heading sizing
\usepackage{sectsty}
\chapternumberfont{\huge} 
\chaptertitlefont{\huge}

% Header spacing adjustment
\usepackage{titlesec}
\titleformat{\chapter}[display]   
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}   
\titlespacing*{\chapter}{0pt}{-20pt}{30pt}

% ...?
\usepackage{booktabs}% http://ctan.org/pkg/booktabs

% Bullet points in tables
\newcommand{\tabitem}{~~\llap{\textbullet}~~}


\input{epsf}                           
% to allow postscript inclusions
% On thor and CUS read top of file:
%     /opt/TeX/lib/texmf/tex/dvips/epsf.sty
% On CL machines read:
%     /usr/lib/tex/macros/dvips/epsf.tex

% Try to avoid widows and orphans
\raggedbottom                          
\sloppy
\clubpenalty1000%
\widowpenalty1000%

% Adjust margins (got rid of for now)
%\addtolength{\oddsidemargin}{6mm}       
%\addtolength{\evensidemargin}{-8mm}

% No indent on paragraph
\setlength{\parindent}{0pt} 

% Adjust line spacing to make more readable
\renewcommand{\baselinestretch}{1.1}    

\begin{document}

\lstset{
   language=[Objective]Caml
}

\bibliographystyle{plain}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Title page

\pagestyle{empty}

\hfill{\LARGE \bf Christopher Jones}

\vspace*{60mm}
\begin{center}
\Huge
{\bf \color{red} DRAFT} \\
{\bf Achieving distributed consensus with Paxos} \\
\vspace*{5mm}
Part II Project \\
\vspace*{5mm}
Trinity Hall \\
\vspace*{5mm}
\today  % today's date
\end{center}

\cleardoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Proforma

\setcounter{page}{1}
\pagenumbering{roman}
\pagestyle{plain}

%\chapter*{Proforma}

%{\large
%\begin{tabular}{ll}
%Name:               & \bf Christopher Jones                       \\
%College:            & \bf Trinity Hall                     \\
%Project Title:      & \bf Achieving distributed consensus with Paxos \\
%Examination:        & \bf Part II Project        \\
%Word Count:         & \bf ... \footnotemark[1] \\
%Project Originator: & Christopher Jones                    \\
%Supervisor:         & Dr Richard Mortier                    \\ 
%\end{tabular}
%}
%\footnotetext[1]{This word was computed
%by {\tt detex diss.tex | tr -cd '0-9A-Za-z $\tt\backslash$n' | wc -w}
%}
%\stepcounter{footnote}


%\section*{Original Aims of the Project}
%...

%\section*{Work Completed}
%... 

%\section*{Special Difficulties}
%... 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
 
 % Declaration
 
%\newpage
%\section*{Declaration}

%I, [Name] of [College], being a candidate for Part II of the Computer
%Science Tripos [or the Diploma in Computer Science], hereby declare
%that this dissertation and the work described in it are my own work,
%unaided except as may be specified below, and that the dissertation
%does not contain material that has already been used to any substantial
%extent for a comparable purpose.

%\bigskip
%\leftline{Signed [signature]}

%\medskip
%\leftline{Date [date]}

\setlength{\unitlength}{3947sp}%
%
\begingroup\makeatletter\ifx\SetFigFont\undefined%
\gdef\SetFigFont#1#2#3#4#5{%
  \reset@font\fontsize{#1}{#2pt}%
  \fontfamily{#3}\fontseries{#4}\fontshape{#5}%
  \selectfont}%
\fi\endgroup%
\begin{picture}(11788,4648)(-30043,19665)
\put(-29099,23639){\makebox(0,0)[lb]{\smash{{\SetFigFont{12}{14.4}{\rmdefault}{\mddefault}{\updefault}{\color[rgb]{0,0,0}prepare($n$)}%
}}}}
\thicklines
{\color[rgb]{0,0,0}\put(-29999,19739){\vector( 1, 0){11700}}
}%
{\color[rgb]{0,0,0}\put(-29999,21239){\vector( 1, 0){11400}}
}%
{\color[rgb]{0,0,0}\put(-29699,24239){\vector( 3,-4){1152}}
}%
{\color[rgb]{0,0,0}\put(-29699,24239){\vector( 1,-3){1500}}
}%
{\color[rgb]{0,0,0}\put(-29699,24239){\vector( 1,-2){1500}}
}%
{\color[rgb]{0,0,0}\put(-28199,22739){\vector( 2, 3){969.231}}
}%
{\color[rgb]{0,0,0}\put(-27899,21239){\vector( 2, 3){1938.461}}
}%
{\color[rgb]{0,0,0}\put(-27899,19739){\vector( 2, 3){3000}}
}%
{\color[rgb]{0,0,0}\put(-24599,24239){\vector( 1,-4){1111.765}}
}%
{\color[rgb]{0,0,0}\put(-24599,24239){\vector( 1,-3){1020}}
}%
{\color[rgb]{0,0,0}\put(-24599,24239){\vector( 3,-4){1152}}
}%
{\color[rgb]{0,0,0}\put(-23099,22739){\vector( 1, 3){510}}
}%
{\color[rgb]{0,0,0}\put(-23099,21239){\vector( 1, 3){1020}}
}%
{\color[rgb]{0,0,0}\put(-23099,19739){\vector( 1, 3){1530}}
}%
{\color[rgb]{0,0,0}\put(-29999,24239){\vector( 1, 0){11700}}
}%
{\color[rgb]{0,0,0}\put(-29999,22739){\vector( 1, 0){11400}}
}%
\end{picture}%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%\cleardoublepage

\tableofcontents

% \listoffigures

\cleardoublepage        % just to make sure before the page numbering is changed

\setcounter{page}{1}
\pagenumbering{arabic}
\pagestyle{headings}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{include/introduction}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{include/preparation}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{include/implementation}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \include{include/evaluation}
%\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \include{include/conclusion}
 \cleardoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% the bibliography

\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{refs}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% the appendices
\appendix

\chapter{Cap'n Proto schema file}

\lstinputlisting{./../../src/rpc/message_api.capnp}

%\cleardoublepage

% Project proposal
\chapter{Projct Proposal}

\end{document}
